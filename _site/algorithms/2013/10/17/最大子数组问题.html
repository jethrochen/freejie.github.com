<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="">
<meta name="author" content="Chen Jie" />
<title>陈杰在路上</title>
<!-- Bootstrap core CSS -->
<link href="../bootstrap/dist/css/bootstrap.css" rel="stylesheet"
	media="screen">
<!-- Custom styles for this template -->
<link href="../css/cj.css" rel="stylesheet">
</head>

<body>

	<div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">陈杰在路上</a>
			</div>
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Home</a></li>
					<li><a href="#about">About</a></li>
					<li><a href="#contact">Contact</a></li>
				</ul>
			</div>
			<!-- /.nav-collapse -->
		</div>
		<!-- /.container -->
	</div>
	<!-- /.navbar -->

    <div class="container">

            		<div><h1 id="section">最大子数组问题</h1>

<p><strong>最大子数组</strong>是一道经典的面试题目，面试中遇到的概率比较大，正好在算法导论中有讨论，在这里做个总结。    </p>

<p><strong>问题描述：</strong>在给定的一个数组中，找到一个连续的子数组，使其和最大。就拿算法导论中的例子，给定数组为A[16]={13,-3,-25,20,-3,-16,-23,18,20,-7,12,-5,-22,15,-4,7}。</p>

<p><strong>问题分析解决：</strong>  <br />
1.最简单粗暴的方法——穷举。  <br />
列举出所有可能的连续组合，分别求出其和。这种方法但凡学过数学的都能想到且解决，其时间复杂度为<script type="math/tex">\Theta(n^2)</script>。这里就不讨论这种方法了，只给出程序用于验证以下方法的结果。    </p>

<div class="highlight"><pre><code class="cpp"><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;limits.h&gt;</span>

<span class="kt">void</span> <span class="nf">getMaxSubarray</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">len</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">low</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">high</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">maxsum</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">sum</span><span class="p">;</span>
    
    <span class="o">*</span><span class="n">maxsum</span> <span class="o">=</span> <span class="n">INT_MIN</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">maxsum</span> <span class="o">&lt;</span> <span class="n">sum</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="o">*</span><span class="n">maxsum</span> <span class="o">=</span> <span class="n">sum</span><span class="p">;</span>
                <span class="o">*</span><span class="n">low</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span> 
                <span class="o">*</span><span class="n">high</span> <span class="o">=</span> <span class="n">j</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">13</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span><span class="o">-</span><span class="mi">23</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">22</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">};</span>
    <span class="kt">int</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">maxsum</span><span class="p">;</span>

    <span class="n">getMaxSubarray</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">low</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">high</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">maxsum</span><span class="p">);</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;the sum of maximum-subarray is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">maxsum</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;the index word of maximum-subarray is from %d to %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
            <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>2.分治策略求解  <br />
<strong>分解：</strong>假设A[low&#8230;high]是A[p&#8230;r]的最大子数组。容易理解，对于数组A[p&#8230;q]和A[q+1&#8230;r]，A[low&#8230;high]必然且仅符合下列情况之一：    </p>

<ul>
  <li>p&lt;=low&lt;=high&lt;=q，即A[low&#8230;high]是A[p&#8230;q]的最大子数组    </li>
  <li>q+1&lt;=high&lt;=low&lt;=r，即A[low&#8230;high]是A[q+1&#8230;r]的最大子数组    </li>
  <li>low&lt;=q且q+1&lt;=high。    </li>
</ul>

<p><strong>解决：</strong>  <br />
A[p&#8230;q]和A[q+1&#8230;r]可继续分解，所以只需要解决情况三即可。  <br />
在上述情况三中，A[low&#8230;high]可以分为两部分：A[low&#8230;q]和A[q+1&#8230;high]。而A[low&#8230;q]是以q为右边界的和最大的子数组，A[q+1&#8230;high]是以q+1为左边界的和最大的子数组。分别求出这两部分，得到low和high的值就OK了。伪代码如下：    </p>

<div class="highlight"><pre><code class="cpp"><span class="n">FIND</span><span class="o">-</span><span class="n">MAX</span><span class="o">-</span><span class="n">CROSSING</span><span class="o">-</span><span class="n">SUBARRAY</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">r</span><span class="p">)</span>
    <span class="n">leftsum</span> <span class="o">=</span> <span class="n">MIN_INT</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="n">q</span> <span class="n">downto</span> <span class="n">p</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">temp</span> <span class="o">&gt;</span> <span class="n">leftsum</span>
            <span class="n">leftsum</span> <span class="o">=</span> <span class="n">temp</span>
            <span class="n">low</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">rightsum</span> <span class="o">=</span> <span class="n">MIN_INT</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">j</span> <span class="o">=</span> <span class="n">q</span><span class="o">+</span><span class="mi">1</span> <span class="n">to</span> <span class="n">r</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">temp</span> <span class="o">&gt;</span> <span class="n">rightsum</span>
            <span class="n">rightsum</span> <span class="o">=</span> <span class="n">temp</span>
            <span class="n">high</span> <span class="o">=</span> <span class="n">j</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">leftsum</span><span class="o">+</span><span class="n">rightsum</span><span class="p">)</span>
</code></pre></div>

<p><strong>合并：</strong>    </p>

<p>3.</p>
</div>

		<div>
			<h2>Related Posts</h2>
			<ul class="posts">
				
				<li><span>18 Sep 2013</span> &raquo; <a
					href="/algorithms/2013/09/18/%E9%80%86%E5%BA%8F%E5%AF%B9%E5%8F%8A%E6%B1%82%E9%80%86%E5%BA%8F%E5%AF%B9%E7%9A%84%E7%AE%97%E6%B3%95.html">逆序对及求逆序对的算法</a></li> 
				<li><span>08 Sep 2013</span> &raquo; <a
					href="/algorithms/2013/09/08/%E6%9C%80%E5%A4%A7%E5%85%AC%E7%BA%A6%E6%95%B0%E4%B9%8B%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95.html">最大公约数之辗转相除法</a></li> 
				<li><span>16 Jul 2013</span> &raquo; <a
					href="/2013/07/16/C%E8%AF%AD%E8%A8%80%E4%B8%AD%E6%9D%A1%E4%BB%B6%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4.html">C语言中条件预处理指令</a></li> 
			</ul>
		</div>


    </div>

	<div class="footer"></div>
	<!-- end footers -->

	<!-- Bootstrap core JavaScript -->
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<script src="../bootstrap/dist/js/bootstrap.js"></script>

</body>
</html>
